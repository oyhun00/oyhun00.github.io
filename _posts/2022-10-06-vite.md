---
title: Vite 알아보기
author: yong
date: 2022-10-06 11:58:00 +0800
categories: [React, FE Tech]
tags: [React, Build, ESM, Esbuild]
---

## ✏️ Vite란?

> 1. 빠르다, 날쌔다, 신속하다.

Vite는 프랑스어로 빠르다라는 뜻이 있다.  웹 어플리케이션의 빌드를 도와주는 도구인데, 말 그대로 빠른 속도로 빌드를 도와준다. 공식 문서에서는 두 가지의 컨셉을 잡고 있다고 한다.

- *개발 시 **[네이티브 ES Module](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)**을 넘어 **[더욱 다양한 기능](https://vitejs-kr.github.io/guide/features.html)**을 제공합니다. 가령, **[Hot Module Replacement (HMR)](https://vitejs-kr.github.io/guide/features.html#hot-module-replacement)**과 같은 것들 말이죠.*
- *번들링 시, **[Rollup](https://rollupjs.org/)** 기반의 다양한 빌드 커맨드를 사용할 수 있습니다. 이는 높은 수준으로 최적화된 정적(Static) 리소스들을 배포할 수 있게끔 하며, 미리 정의된 설정(Pre-configured)을 제공합니다.*

보통 리액트를 초기 구성할 때, 자바스크립트로 이루어진 Webpack을 사용한다. 이 Webpack과 같은 JS 기반의 도구들은 프로젝트의 규모가 커질수록 번들크기가 커지며 빌드 속도가 점점 오래 걸리기 시작한다. 그리고 HMR(Hot Module Replacement)을 사용하더라도 적용되는데에 오랜 시간이 걸린다.


반면에 Vite는 Esbuild를 기반으로 구성되어 빌드 속도를 향상시킬 수 있다. [참고](https://engineering.ab180.co/stories/webpack-to-vite). 또한 HMR은 번들러가 아닌 ES Modules 기반으로 제공하여 프로젝트 규모가 커져도 갱신 시간에 영향을 주지 않는다.

<img src="/vite1.png" alt="Vite">
<img src="/vite2.png" alt="Vite">
*출처 - Vite 공식 문서*

# 🔨 Vite로 React 프로젝트 구성해보기

## React + Typescript 구성

### NPM

```
$ npm create vite@latest --template project-name react-ts
```

### Yarn

```
$ yarn create vite project-name --template react-ts
```

사용해보면 알듯이, 명령어 단 한줄로 간단하고 빠르게 Typescript + React 프로젝트가 구성된다. 이 외에도 다음과 같이 여러가지 템플릿들을 지원하고 있다.

| JavaScript | TypeScript |
| --- | --- |
| vanilla | vanilla-ts |
| vue | vue-ts |
| react | react-ts |
| preact | preact-ts |
| lit | lit-ts |
| svelte | svelte-ts |

## CLI

기본적으로 제공하는 커맨드라인은 다음과 같다.

```javascript
{
  "scripts": {
    "dev": "vite", // 개발 서버 실행
    "build": "vite build", // 빌드 실행
    "preview": "vite preview" // 빌드에 대한 프리뷰 서버 실행
  }
}
```

작성 중